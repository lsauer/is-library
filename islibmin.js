var is=(function(){return{xhrStatus:{},Debug:false,XMLHTTP:['Msxml2.XMLHTTP.4.0','Msxml2.XMLHTTP','Microsoft.XMLHTTP'],get FileAccess(){return typeof(window.File)!=='undefined'&&typeof(window.FileReader)==='function'&&typeof(window.FileList)!=='undefined';},get DragSupport(){var el=document.getElementsByTagName('body')[0];if(!el)return false;else return el.hasOwnProperty('ondragenter')&&el.hasOwnProperty('ondragend');},get AdobeAIR(){return(navigator.userAgent.indexOf("AdobeAIR")>=0)?true:false;},get Air(){return this.AdobeAIR;},get Khtml(){return(navigator.appVersion.indexOf("Konqueror")>=0)?parseFloat(navigator.appVersion):false;},get WebKit(){return parseFloat(navigator.userAgent.split("WebKit/")[1])||false;},get Chrome(){return this.WebKit;},get Opera(){return navigator.userAgent.indexOf("Opera")>=0?true:false;},get OperaNew(){return parseFloat(navigator.appVersion)>=9.6?(parseFloat(navigator.userAgent.split("Version/")[1])||parseFloat(navigator.appVersion)):false;},get Presto(){return this.Opera;},get IE(){return document.all&&!this.Opera?parseFloat(navigator.appVersion.split("MSIE ")[1])||false:false;},get FF(){return navigator.userAgent.indexOf("Gecko")>=0&&!this.Khtml&&!this.WebKit;},get Gecko(){return this.FF;},get Mac(){return navigator.appVersion.indexOf("Macintosh")>=0;},get Win(){return navigator.appVersion.indexOf("Win")>=0;},get X11(){return navigator.appVersion.indexOf("X11")>=0;},get Unix(){return this.X11},get Linux(){return navigator.appVersion.indexOf("Linux")>=0;},get ChromeOS(){return/Google/i.test(navigator.appVersion);},get iOS(){return/iPod|iPhone|iPad/i.test(navigator.userAgent);},get Wii(){return typeof opera!="undefined"&&opera.wiiremote;},get XHRActiveX(){return this.IE&&window.location.protocol==='file:';},get QuirksMode(){return document.compatMode==='BackCompat'},set XHRStatus(o){this.xhrStatus=o;},get XHRStatus(){return this.XHRStatusOK(this.xhrStatus);},XHRStatusOK:function(o){if(undefined==o)var o=this.xhrStatus;return(o.status>=200&&o.status<300)||o.status==304||o.status==1223||false;},get newXhrObj(){if(typeof XMLHttpRequest!=='undefined')return new XMLHttpRequest;else if(window.ActiveXObject)for(var i=3;i--;){try{var xhttp=new ActiveXObject(this.XMLHTTP[i]);return xhttp;}catch(e){is.Warn(e);}}return false;},get ConnStatus(){},set Exit(e){throw e;},itoa:String.fromCharCode,atoi:String.charCodeAt,Error:function(e,ret){if(this.Debug){throw e;}else{if(this.Object(e)){for(i in e)console.error(e[i]);}else console.error?console.error(e):console.log('Error: '+e);}return typeof ret!=='undefined'?ret:e;},Warn:function(e,ret){if(this.Debug){console.warn(e);}return typeof ret!=='undefined'?ret:e;},Native:function(o){return(o&&!this.Function(o)&&/\{\[native code\]\}/i.test(String(o)));},Type:function(o){return({}).toString.call(o).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},Array:function(a){return a&&(a instanceof Array||typeof a=="array");},ArrayLike:function(a){return a&&this.Native(a)&&a.hasOwnProperty('length');},Hash:function(o){return o instanceof Hashtable;},Element:function(o){return o&&o.nodeType===0x01;},Identical:function(a,b){return a.constructor===b.constructor;},String:function(s){return typeof s==='string';},Undefined:function(s){return typeof s==='undefined';},Object:function(o){return o!==null&&o instanceof Object;},Scalar:function(o){return/boolean|number|string/.test(typeof o);},Empty:function(o){if(typeof o==='undefined')return undefined;else return!Boolean(o);},Void:function(o){return!Boolean(o);},'Function':function(o){return Object.prototype.toString(x)==="[object Function]";},Extend:function(o,n,fn){if(this.Object(o))o.__proto__[n]=fn;else o.prototype[n]=fn;return o;},XML:function(o){return!!o.ownerDocument&&o.ownerDocument.documentElement.nodeName!=="HTML"||o.nodeType===0x09&&o.documentElement.nodeName!=="HTML";},BoundFunc:function(self,fn){return function(){var f=fn.constructor===String?(self||window)[fn]:fn;return f.apply(self||this,Array.apply(null,arguments).slice(2));};},OfValue:function(o){return Boolean(o);},Set:function(o){return typeof o!=='undefined'&&Boolean(o);},Binary:function(o){if(typeof o!=='string')return false;return!(RegExp("^([\x20-\x7F]+)$").test(o));},Number:function(n){if(typeof n==='undefined')return undefined;if(typeof n==='number'&&n!==Number.NaN&&Math.abs(n)!==Infinity)return true;else false;},Numeric:function(n){return(typeof(n)==='number'||typeof(n)==='string')&&n!==''&&!this.NaN(n);},Int:function(o){return o===~~o;},NaN:function(o){return typeof val==='number'&&isNaN(val);},Null:function(o){return null===o;},Between:function(n,a,b){n=parseFloat(n);if(!this.Number(n))return undefined;return a<n&&n<b;},NoElements:function(a){for(var i=cnt=0;i<a.length;cnt+=!this.Void(a[i++]));return cnt;},toObj:function(a,rev){if(!a||a.constructor!==Array)return;var o={};for(i in a){if(!rev)o[i]=a[i];else o[a[i]]=i;}return o;},toJSON:function(o){var t=typeof o;if(t in this.toObj(["undefined","function","unknown"],true)){return;}if("boolean"===t){return o.toString();}if(null===o){return"null";}if(o.toJSON){return o.toJSON()}if(this.Element(o)){return;}var ret=[];for(var prop in o){var v=o.toJSON(o[prop]);if(!this.Undefined(v)){ret.push(prop.toJSON()+": "+v)}}return"{"+ret.join(", ")+"}";},toOrd:function(i){i=(i|0+'').split('').slice(-2).reduce(function(a,b){return 1==a?0:(b>3?0:b);});return['th','st','nd','rd'][i];},toExpDec:function(i){var l=Math.log;return Math.ceil(l(i)/l(10));},Keys:function(o){var k=[];for(var prop in o){k.push(prop);}return k;},Values:function(o){var v=[];for(var prop in o){v.push(o[prop])}return v;},toArray:function(o){return this.Values(o);},Basename:function(s){if(undefined===s)s=window.location.href;return s.substr(0,s.lastIndexOf('/')+1)},Filename:function(s){if(undefined===s)s=window.location.href;return s.substr(s.lastIndexOf('/')+1)},FileExt:function(s){return s.substr(s.lastIndexOf('.')+1)},Anonymous:function(fn){return fn.constructor===Function&&fn.name==='';},Trim:function(s,chs){if(!chs)return this.valueOf().trim();var restr='['+s.split('').join('|')+']*';return this.valueOf().replace(RegExp('^'+restr+'|'+restr+'$','g'),'');},XMLString:function(s){var dom=false;if(s&&s.constructor===String){if(this.IE){dom=new ActiveXObject("MSXML2.DOMDocument");dom.async=false;dom=dom.loadXML(s);}else{dom=new DOMParser();dom=dom.parseFromString(s,"text/xml");}}return dom;},HTMLString:function(s){var c='http://www.w3.org/1999/xhtml',d=document,html=d.implementation.createDocument(c,"html",null),b=d.createElementNS(c,"body");html.documentElement.appendChild(b);{b.appendChild(Components.classes["@mozilla.org/feed-unescapehtml;1"].getService(Components.interfaces.nsIScriptableUnescapeHTML).parseFragment(aHTMLString,false,null,b))};return b;},d2h:function(d){return d.toString(16);},h2d:function(h){return parseInt(h,16);},d2b:function(d){return d.toString(2);},d2h:function(d){return d.toString(16);},b2d:function(d){return parseInt(d,2);},GUID:function(DCE){return(DCE?'{':'')+('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.split('').map(function(v){if(v in{'4':0,'-':0})return v;var i=Math.random()*16|0,c=v=='x'?i:(i&3|8);return c.toString(16);}).join(''))+(DCE?'}':'')},get Uuid(){return this.GUID();},NameFunc:function(levl){var n=levl||1;var fn=arguments.callee.caller;return this.Anonymous(fn)?false:arguments.callee.caller.name;},Clone:function(o){if(!o||!this.Object(o))return o;var onew=o.constructor(o.valueOf());for(var attr in o){if(o.hasOwnProperty(attr))onew[attr]=o[attr];}return onew;},Range:function(st,so,sp){var args=arguments;args.length==1?(start=0,stop=args[0],step=1):(start=args[0],stop=args[1],step=args[2]==null?1:args[2]);for(var i=start,a=[];step>0?i<=stop:i>=stop;i+=step){a.push(i)}return a},Unique:function(a){return a.sort().filter(function(v,i,o){if(i>0&&v!==o[i-1])return v;});},Log10:function(a){Math.log(arg)/2.302585092994046;},Sum:function(a){return a.reduce(function(a,b){return a+b;});},toArgsArray:function(a){if(!(a instanceof Array)){a=this.Values(arguments)}return a;},getFile:function(url,m){var x=this.newXhrObj;if(!x)return new Error('no XMLHttpRequest-Object');if(!(/^http/).test(url)){url=window.location.href+'/'+url;}x.open(m||"GET",url,false);x.send(null);return x.responseText;},getDir:function(url,m){var x=this.newXhrObj;if(!x)return new Error('no XMLHttpRequest-Object');x.open(m||"GET",url,false);x.send(null);return x;},file_get_contents:function(u,m){return getFile(u,m);},areTypeOf:function(t,a){a=toArgsArray(a);return!!this.Sum(a.map(function(v){return typeof v===t||v instanceof t;}));},toCookie:function(n,v,e,p,d,s){v=encodeURIComponent(v);if(typeof e==='string'&&(/^\d+$/).test(e)){e=parseInt(e,10);}if(e instanceof Date){e=e.toGMTString();}else if(typeof(e)==='number'){e=(new Date(e*1e3)).toGMTString();}var r=[n+'='+v],s={},i='';s={e:e,p:p,d:d};for(i in s){if(s.hasOwnProperty(i)){s[i]&&r.push(i+'='+s[i]);}}s&&r.push('secure'),this.window.document.cookie=r.join(";")},getBase64Img:function(o,t,h){var c=document.createElement('canvas');c.width=o.width;c.height=o.height;var cx=c.getContext('2d');cx.drawImage(o,0,0);var ext=(t||this.FileExt(o.src)||'png');var db64=c.toDataURL("image/"+ext);return h?db64.replace(/^data:image\/[a-z]+;base64,/,''):db64;}};})();navigator.is=window.is;